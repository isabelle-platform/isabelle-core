openapi: 3.0.3
info:
  title: isabelle-core
  version: 1.0.0
  description: Unified item storage with collection hooks, security checks, email, Google Calendar, auth, OTP support.

servers:
  - url: https://api.example.com
    description: Production

paths:
  /is_logged_in:
    get:
      summary: Check login status
      operationId: checkLoginStatus
      parameters: []
      responses:
        '200':
          description: Login status
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
  /login:
    post:
      summary: Username/password login
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                password:
                  type: string
                  format: password
      responses:
        '200':
          description: Login result
          content:
            application/json:
              schema:
                type: object
                required:
                  - succeeded
                properties:
                  succeeded:
                    type: boolean
                  error:
                    type: string
  /logout:
    post:
      summary: Terminate current session
      operationId: logout
      responses:
        '200':
          description: Logout successful
  /itm/list:
    get:
      summary: Read items from collection
      operationId: listItems
      parameters:
        - name: collection
          in: query
          description: "Which collection."
          required: true
          schema:
            example: diary_record
            type: string
        - name: context
          in: query
          description: context
          schema:
            example: full
            type: string
        - name: id
          in: query
          description: "Which ID."
          schema:
            example: "10000000000000000000"
            type: string
        - name: id_min
          in: query
          description: "ID range: minimum."
          schema:
            example: "10000000000000000000"
            type: string
        - name: id_max
          in: query
          description: "ID Range: maximum."
          schema:
            example: "10000000000000000000"
            type: string
        - name: skip
          in: query
          description: "ID to not return in response."
          schema:
            example: "10000000000000000000"
            type: string
        - name: limit
          in: query
          description: limit
          schema:
            example: "10000000000000000000"
            type: string
        - name: sort_key
          in: query
          description: "Which parameter to sort the array of objects by."
          schema:
            example: time
            type: string
        - name: filter
          in: query
          description: "Which parameter to filter the array of objects by."
          schema:
            example: '{ "$and": [ { "u64s.time": { "$gte": 1768780800 } }, { "u64s.time": {
              "$lt": 1769385599 } }] }'
            type: string
      responses:
        '200':
          description: Item list
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
  /itm/edit:
    parameters: []
    post:
      summary: Edit items from collection
      operationId: editItems
      parameters:
        - name: id
          in: query
          description: id
          schema:
            example: "10000000000000000000"
            type: string
        - name: collection
          in: query
          description: collection
          schema:
            example: diary_record
            type: string
        - name: merge
          in: query
          description: merge
          schema:
            type: boolean
            default: false
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              properties:
                item:
                  type: string
              required:
                - item
              type: object
      responses:
        '200':
          description: Edit result
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
  /itm/del:
    parameters: []
    post:
      summary: Delete items from collection
      operationId: deleteItems
      parameters:
        - name: next
          in: query
          description: next
          schema:
            example: project_diary_list
            type: string
        - name: del
          in: query
          description: del
          schema:
            example: "true"
            type: string
        - name: collection
          in: query
          required: true
          description: collection
          schema:
            example: diary_record
            type: string
        - name: id
          in: query
          required: true
          description: id
          schema:
            example: "250"
            type: string
      responses:
        '200':
          description: Delete result
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
  /project_diary:
    get:
      description: ""
      operationId: getProjectDiary
      parameters: []
      responses:
        "200":
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
          description: ""
          headers:
            X-DNS-Prefetch-Control:
              description: Custom header X-DNS-Prefetch-Control
              schema:
                type: string
            permissions-policy:
              description: Custom header permissions-policy
              schema:
                type: string
        "304":
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
          description: ""
      summary: Get Project Diary
    parameters: []
  /project_diary/edit:
    get:
      description: ""
      operationId: getProjectDiaryEdit
      parameters: []
      responses:
        "200":
          content:
            multipart/form-data:
              schema:
                properties:
                  filename:
                    description: ""
                    format: binary
                    type: string
                type: object
          description: ""
          headers:
            X-DNS-Prefetch-Control:
              description: Custom header X-DNS-Prefetch-Control
              schema:
                type: string
            permissions-policy:
              description: Custom header permissions-policy
              schema:
                type: string
      summary: Get Project Diary Edit
    parameters: []
